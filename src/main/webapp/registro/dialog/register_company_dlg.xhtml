<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    <h:form enctype="multipart/form-data">
        <p:dialog header="Registre su empresa" 
                  widgetVar="companyregisterdlg" 
                  resizable="false" 
                  modal="true" 
                  style="size: 300px;"
                  closable="true"
                  visible="#{!CompanyBean.company_is_register}">
            <p>Bienvenido queremos saber mas de tu empresa:</p>
            <h:panelGrid columns="2" cellpadding="5">
                <p:wizard>
                    <p:tab id="company_info" title="Informacion basica">
                        <p:panelGrid columns="2" styleClass="ui-panelgrid-blank form-group">
                            <p:outputLabel for="PRRegTipoIdentificacion" value="Tipo de Identificación:"/>
                            <p:selectOneMenu id="PRRegTipoIdentificacion" value="#{CompanyBean.myDominio.idDominio}">
                                <f:selectItem itemLabel="Seleccione" itemValue="0" noSelectionOption="true"></f:selectItem>
                                <f:selectItems value="#{CompanyBean.obtenerListadoDominioTipo('2')}"></f:selectItems>
                            </p:selectOneMenu>
                            <p:outputLabel for="PRRegNumIdentificacion" value="Número Identificación:"/>
                            <p:inputText id="PRRegNumIdentificacion" value="#{CompanyBean.company_identification}"/>
                            <p:outputLabel for="PRRegCompName" value="Nombre o razón social:"/>
                            <p:inputText id="PRRegCompName" value="#{CompanyBean.company_name}"/>
                            <p:outputLabel for="PRRegFundDate" value="Fecha de fundación:" />
                            <p:calendar id="PRRegFundDate" showOn="button" value="#{CompanyBean.company_fundation_date}"/>
                            <p:outputLabel for="PRRegLogo" value="Logo:"/>
                            <p:fileUpload id="PRRegLogo" skinSimple="false" fileUploadListener="#{CompanyBean.cargarImagen}" auto="true" style="width: 200px;"/>
                        </p:panelGrid>
                    </p:tab>
                    <p:tab id="company_address" title="Direccion">
                        <p>En que lugar se encuentra tu sucursal principal.</p>
                        <p:panelGrid columns="2" styleClass="ui-panelgrid-blank form-group">
                            <p:outputLabel for="PRRegPais" value="País:"/>
                            <p:selectOneMenu id="PRRegPais" value="#{CompanyBean.myIdPais}">
                                <p:ajax listener="#{CompanyBean.onPaisChange}" update="PRRegDepartamento" />
                                <f:selectItem itemLabel="Seleccione" itemValue="0" noSelectionOption="true"></f:selectItem>
                                <f:selectItems value="#{CompanyBean.obtenerListadoDominioTipo('4')}"></f:selectItems>
                            </p:selectOneMenu>
                            <p:outputLabel for="PRRegDepartamento" value="Departamento:"/>
                            <p:selectOneMenu id="PRRegDepartamento" value="#{CompanyBean.myIdDepartamento}">
                                <p:ajax listener="#{CompanyBean.onDepartamentoChange}" update="PRRegCiudad" />
                                <f:selectItem itemLabel="Seleccione" itemValue="0" noSelectionOption="true"></f:selectItem>
                                <f:selectItems value="#{CompanyBean.myListDepartamento}"></f:selectItems>
                            </p:selectOneMenu>
                            <p:outputLabel for="PRRegCiudad" value="Ciudad:"/>
                            <p:selectOneMenu id="PRRegCiudad" value="#{CompanyBean.myIdCiudad}">
                                <f:selectItem itemLabel="Seleccione" itemValue="0" noSelectionOption="true"></f:selectItem>
                                <f:selectItems value="#{CompanyBean.myListCiudad}"></f:selectItems>
                            </p:selectOneMenu>
                            <p:outputLabel for="PRSucursalAddress" value="Direccion sucursal:" />
                            <p:inputText id="PRSucursalAddress" value="#{CompanyBean.company_sucursal_address}"/>
                            <p:outputLabel for="PRSSucAddressComplemento" value="Complemento Direccion:" />
                            <p:inputText id="PRSSucAddressComplemento" value="#{CompanyBean.company_sucursal_address_complemento}"/>
                            <p:outputLabel for="PRSucursalName" value="Nombre sucursal:" />
                            <p:inputText id="PRSucursalName" value="#{CompanyBean.company_sucursal_name}"/>
                        </p:panelGrid>
                    </p:tab>
                    <p:tab id="company_contact" title="Contacto">
                        <p>En caso de necesitar tu ayuda con quien nos podremos comunicar:</p>
                        <p:panelGrid columns="2" styleClass="ui-panelgrid-blank form-group">
                            <p:outputLabel for="PRContactTipoIdentificacion" value="Tipo de Identificación:"/>
                            <p:selectOneMenu id="PRContactTipoIdentificacion" value="#{CompanyBean.myDominioContact.idDominio}">
                                <f:selectItem itemLabel="Seleccione" itemValue="0" noSelectionOption="true"></f:selectItem>
                                <f:selectItems value="#{CompanyBean.obtenerListadoDominioTipo('2')}"></f:selectItems>
                            </p:selectOneMenu>
                            <p:outputLabel for="PRContactID" value="Número Identificación:" />
                            <p:inputText id="PRContactID" value="#{CompanyBean.company_contact_id}"/>
                            <p:outputLabel for="PRContactName" value="Nombre:" />
                            <p:inputText id="PRContactName" value="#{CompanyBean.company_contact_name}"/>
                            <p:outputLabel for="PRContactSurname" value="Apellido:" />
                            <p:inputText id="PRContactSurname" value="#{CompanyBean.company_contact_surname}"/>
                            <p:outputLabel for="PRContactAddress" value="Dirección:" />
                            <p:inputText id="PRContactAddress" value="#{CompanyBean.company_contact_address}"/>
                            <p:outputLabel for="PRContactPhone" value="Telefono:" />
                            <p:inputText id="PRContactPhone" value="#{CompanyBean.company_contact_phone}"/>
                            <p:outputLabel for="PRContactEmail" value="Correo electronico:" />
                            <p:inputText id="PRContactEmail" value="#{CompanyBean.company_contact_email}"/>
                            <p:outputLabel for="PRContactBirthday" value="Fecha de nacimiento:" />
                            <p:calendar id="PRContactBirthday" showOn="button" value="#{CompanyBean.company_contact_birthdate}"/>
                        </p:panelGrid>
                        <p:commandButton value="Guardar" oncomplete="PF('companyregisterdlg').hide()" action="#{CompanyBean.guardarEmpresa()}"/>
                    </p:tab>                
                </p:wizard>
                <f:facet name="footer">
                    <div align="right">
                        <p:commandButton value="Cancelar" onclick="PF('companyregisterdlg').hide()"/>
                    </div>
                </f:facet>  
            </h:panelGrid>
        </p:dialog>    
    </h:form>
</ui:composition>